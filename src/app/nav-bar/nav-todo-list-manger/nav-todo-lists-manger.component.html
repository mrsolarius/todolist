<section>
  <div class="section-padding">
    <div class="create-todo-box" (focusout)="unFocusEdit(button,element)" (click)="clickToEdit(button,element,name)"
         #button>
      <form class="create-todo-form" (submit)="createTodo(button,element,name.value);name.value=''">
        <input class="create-todo-txt" type="text" name="" placeholder="Nom de votre todolist" autofocus #name>
      </form>
      <a class="create-todo-btn" #element>Cr√©e une TODO List</a>
    </div>
  </div>
</section>
<ng-container *ngIf="observer | async as tdl">
  <section *ngIf="tdl.lists===undefined?false:tdl.lists.length>0">
    <div class="section-padding todo-lists-title">
      <h1>Vos Todo Lists</h1>
    </div>
    <div class="todo-list-chooser-container">
      <ul class="todo-list-chooser-list">
        <li *ngFor="let todolist of tdl.lists; let index = index;">
          <app-nav-todo-list-item class="todo-li-cpm"
                                  [todoList]="todolist"
                                  [index]="index"
                                  [selected]="tdl.selected"
                                  (deleteTodoList)="deleteList($event)"
                                  (editTodoListLabel)="editeList($event)"
                                  (selectTodoList)="selectList($event)">
          </app-nav-todo-list-item>
        </li>
      </ul>
    </div>
  </section>
  <section class="button-section">
    <button *ngIf="tdl.selected!==-1" title="Exporter une liste" class="logo-button" (click)="exportList(tdl.lists[tdl.selected])">
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" width="24px" viewBox="0 0 24 24" fill="#000000">
        <path d="M0 0h24v24H0V0z" fill="none"/>
        <path d="M13 5v6h1.17L12 13.17 9.83 11H11V5h2m2-2H9v6H5l7 7 7-7h-4V3zm4 15H5v2h14v-2z"/>
      </svg>
    </button>
    <label class="import-todo-list-label">
      <svg class="import-todo-list-logo" xmlns="http://www.w3.org/2000/svg" height="24px" width="24px" viewBox="0 0 24 24" fill="#000000">
        <path d="M0 0h24v24H0V0z" fill="none"/>
        <path d="M5 4h14v2H5zm0 10h4v6h6v-6h4l-7-7-7 7zm8-2v6h-2v-6H9.83L12 9.83 14.17 12H13z"/>
      </svg>
      <input class="import-todo-list-button" type="file" title="Importer une liste" accept="application/json" (change)="importList(file.files);file.value=''" #file>
    </label>
  </section>
</ng-container>
